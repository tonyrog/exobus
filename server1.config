%% -*- erlang -*-
%%     exobus server config
%%

[
 {lager, [{log_root, "log_server1"}, 
	  {colored, true},
	  {handlers, [
		      {lager_console_backend, 
		       [info, {lager_default_formatter, 
			       [date, " ", time," [",severity,"] ",pid, " ", 
				module, ":", line, " ", message, "\n"]}]},
		      {lager_file_backend, 
		       [{file, "error.log"}, {level, warning}, 
			{size, 10485760}, {date, "$D0"}, {count, 5}]},
		      {lager_file_backend, 
		       [{file, "console.log"}, {level, info}, 
			{size, 10485760}, {date, "$D0"}, {count, 5}]}
		     ]}
	 ]},
 {xbus,
  [%% meta information
   {topics, 
    [
     {<<"a">>, [{comment,"A"},{unit,"V"}]},
     {<<"b">>, [{comment,"B"},{unit,"A"}]},
     {<<"c">>, [{comment,"C"},{unit,"Watt"}]}]}
  ]},

 {exobus,
  [{id, "tellserv"},
   {server_port, 17831},
   {ifaddr, {0,0,0,0}},
   {idle_timeout, 5000},
   {clients,
    [
     {"tellme1",
      [
       {server_key, 9115260232191583632},
       {client_key, 2664211858015496755}
      ]},
     
     {"tellme2",
      [
       {server_key, 14681870047993959096},
       {client_key, 2105300339593393396}
      ]}
    ]}
   ]}
].
